{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '46322499-d914655ae29712659c6ba744e';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function fetchImages(query, page = 1, perPage = 12) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=${perPage}`;\n\n  try {\n    const response = await fetch(url);\n    if (!response.ok) throw new Error('Network response was not ok');\n    return await response.json();\n  } catch (error) {\n    console.error('Fetching images failed:', error);\n    throw error;\n  }\n}\n\n\n","import { galleryLightbox } from '../main';\n\nexport function createImageCard(image) {\n  return `\n    <a href=\"${image.largeImageURL}\" class=\"gallery-item\">\n      <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" width=\"360\" loading=\"lazy\" data-caption=\"${image.tags}\" />\n      <div class=\"info\">\n        <p><b>Likes:</b> ${image.likes}</p>\n        <p><b>Views:</b> ${image.views}</p>\n        <p><b>Comments:</b> ${image.comments}</p>\n        <p><b>Downloads:</b> ${image.downloads}</p>\n      </div>\n    </a>\n  `;\n}\n\nexport function renderGallery(images) {\n  const gallery = document.querySelector('.gallery');\n  const imageCards = images.map(createImageCard).join('');\n  gallery.insertAdjacentHTML('beforeend', imageCards);\n  galleryLightbox.refresh();\n}\n\nexport function clearGallery() {\n  document.querySelector('.gallery').innerHTML = '';\n}","import { fetchImages } from './js/pixabay-api';\nimport { renderGallery, clearGallery } from './js/render-functions';\nimport './css/styles.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet currentPage = 1;\nconst perPage = 12;\nconst form = document.querySelector('#search-form');\nconst input = form.querySelector('input');\nconst loader = document.querySelector('.loader');\n\n\nexport const galleryLightbox = new SimpleLightbox('.gallery a', {\n  captions: true,\n  captionsData: 'data-caption',\n  captionDelay: 250,\n});\n\nlet lastFocusedElement;\n\nform.addEventListener('submit', onSearch);\n\ngalleryLightbox.on('show.simplelightbox', () => {\n  lastFocusedElement = document.activeElement;\n  document.body.classList.add('lightbox-open');\n});\n\ngalleryLightbox.on('close.simplelightbox', () => {\n  if (lastFocusedElement) lastFocusedElement.focus();\n  document.body.classList.remove('lightbox-open');\n});\n\nfunction onSearch(e) {\n  e.preventDefault();\n  const query = input.value.trim();\n\n  if (!query) {\n    showNotification('warning', 'Please enter a search query!');\n    return;\n  }\n\n  currentPage = 1;\n  clearGallery();\n  searchImages(query);\n}\n\nfunction toggleLoader(isLoading) {\n  loader.style.display = isLoading ? 'block' : 'none';\n}\n\nfunction showNotification(type, message) {\n  iziToast[type]({ title: type.charAt(0).toUpperCase() + type.slice(1), message });\n}\n\nasync function searchImages(query) {\n  toggleLoader(true);\n  try {\n    const data = await fetchImages(query, currentPage, perPage);\n    if (data.hits.length === 0) {\n      showNotification('info', 'Sorry, no images were found for your search query.');\n      return;\n    }\n\n    renderGallery(data.hits);\n    galleryLightbox.refresh();\n    input.value = '';\n  } catch (error) {\n    showNotification('error', 'Something went wrong. Please try again later.');\n    console.error(error);\n  } finally {\n    toggleLoader(false);\n  }\n}"],"names":["API_KEY","BASE_URL","fetchImages","query","page","perPage","url","response","error","createImageCard","image","renderGallery","images","gallery","imageCards","galleryLightbox","clearGallery","currentPage","form","input","loader","SimpleLightbox","lastFocusedElement","onSearch","showNotification","searchImages","toggleLoader","isLoading","type","message","iziToast","data"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAYC,EAAOC,EAAO,EAAGC,EAAU,GAAI,CAC/D,MAAMC,EAAM,GAAGL,CAAQ,QAAQD,CAAO,MAAM,mBAAmBG,CAAK,CAAC,iEAAiEC,CAAI,aAAaC,CAAO,GAE9J,GAAI,CACF,MAAME,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GAAI,MAAM,IAAI,MAAM,6BAA6B,EAC/D,OAAO,MAAMA,EAAS,MACvB,OAAQC,EAAO,CACd,cAAQ,MAAM,0BAA2BA,CAAK,EACxCA,CACP,CACH,CCZO,SAASC,EAAgBC,EAAO,CACrC,MAAO;AAAA,eACMA,EAAM,aAAa;AAAA,kBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI,8CAA8CA,EAAM,IAAI;AAAA;AAAA,2BAErFA,EAAM,KAAK;AAAA,2BACXA,EAAM,KAAK;AAAA,8BACRA,EAAM,QAAQ;AAAA,+BACbA,EAAM,SAAS;AAAA;AAAA;AAAA,GAI9C,CAEO,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAaF,EAAO,IAAIH,CAAe,EAAE,KAAK,EAAE,EACtDI,EAAQ,mBAAmB,YAAaC,CAAU,EAClDC,EAAgB,QAAO,CACzB,CAEO,SAASC,GAAe,CAC7B,SAAS,cAAc,UAAU,EAAE,UAAY,EACjD,CCjBA,IAAIC,EAAc,EAClB,MAAMZ,EAAU,GACVa,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAQD,EAAK,cAAc,OAAO,EAClCE,EAAS,SAAS,cAAc,SAAS,EAGlCL,EAAkB,IAAIM,EAAe,aAAc,CAC9D,SAAU,GACV,aAAc,eACd,aAAc,GAChB,CAAC,EAED,IAAIC,EAEJJ,EAAK,iBAAiB,SAAUK,CAAQ,EAExCR,EAAgB,GAAG,sBAAuB,IAAM,CAC9CO,EAAqB,SAAS,cAC9B,SAAS,KAAK,UAAU,IAAI,eAAe,CAC7C,CAAC,EAEDP,EAAgB,GAAG,uBAAwB,IAAM,CAC3CO,GAAoBA,EAAmB,QAC3C,SAAS,KAAK,UAAU,OAAO,eAAe,CAChD,CAAC,EAED,SAASC,EAAS,EAAG,CACnB,EAAE,eAAc,EAChB,MAAMpB,EAAQgB,EAAM,MAAM,KAAI,EAE9B,GAAI,CAAChB,EAAO,CACVqB,EAAiB,UAAW,8BAA8B,EAC1D,MACD,CAEDP,EAAc,EACdD,IACAS,EAAatB,CAAK,CACpB,CAEA,SAASuB,EAAaC,EAAW,CAC/BP,EAAO,MAAM,QAAUO,EAAY,QAAU,MAC/C,CAEA,SAASH,EAAiBI,EAAMC,EAAS,CACvCC,EAASF,CAAI,EAAE,CAAE,MAAOA,EAAK,OAAO,CAAC,EAAE,YAAa,EAAGA,EAAK,MAAM,CAAC,EAAG,QAAAC,CAAS,CAAA,CACjF,CAEA,eAAeJ,EAAatB,EAAO,CACjCuB,EAAa,EAAI,EACjB,GAAI,CACF,MAAMK,EAAO,MAAM7B,EAAYC,EAAOc,EAAaZ,CAAO,EAC1D,GAAI0B,EAAK,KAAK,SAAW,EAAG,CAC1BP,EAAiB,OAAQ,oDAAoD,EAC7E,MACD,CAEDb,EAAcoB,EAAK,IAAI,EACvBhB,EAAgB,QAAO,EACvBI,EAAM,MAAQ,EACf,OAAQX,EAAO,CACdgB,EAAiB,QAAS,+CAA+C,EACzE,QAAQ,MAAMhB,CAAK,CACvB,QAAY,CACRkB,EAAa,EAAK,CACnB,CACH"}